{"version":3,"sources":["redux/action_types.js","redux/action_creators/login_action.js","redux/reducers/login_recuder.js","redux/reducers/product_recuder.js","redux/reducers/category_reducer.js","redux/reducers/index.js","redux/reducers/menu_recuder.js","redux/store.js","api/ajax.js","config/index.js","api/index.js","static/img/logo.png","containers/login/login.js","config/menu_config.js","containers/admin/header/header.js","containers/admin/left_nav/left_nav.js","redux/action_creators/menu_action.js","components/home/home.js","containers/category/category.js","redux/action_creators/category_action.js","containers/product/product.js","redux/action_creators/product_action.js","containers/product/detail.js","containers/product/picture_wall.js","containers/product/rich_text_editor.js","containers/product/add_update.js","containers/user/user.js","containers/role/role.js","containers/bar/bar.js","containers/line/line.js","containers/pie/pie.js","containers/admin/admin.js","App.js","index.js"],"names":["SAVE_USER_INFO","DELETE_USER_INFO","SAVE_TITLE","SAVE_PROD_LIST","SAVE_CATEGORY_LIST","createDeleteUserInfoAction","localStorage","removeItem","type","user","JSON","parse","getItem","token","initState","role","isLogin","combineReducers","userInfo","preState","action","data","console","log","menus","username","title","productList","categoryList","createStore","reducers","composeWithDevTools","applyMiddleware","thunk","instance","axios","create","timeout","interceptors","request","use","config","nProgress","start","store","getState","headers","Authorization","method","toLowerCase","Object","qs","stringify","error","Promise","reject","response","done","message","dispatch","BASE_URL","reqLogin","password","ajax","post","reqCategoryList","get","reqWheather","resolve","jsonp","err","reqAddCategory","categoryName","reqUpdateCategory","categoryId","reqDeleteCategory","reqProductList","pageNum","pageSize","params","reqUpdateProdStatus","productId","status","reqSearchProductList","searchType","keyWord","reqProdById","reqDeletePicture","name","reqUpdateProduct","product","reqDeleteProduct","_id","reqRoleList","reqAddRole","roleName","reqAuthRole","roleObj","auth_time","Date","now","reqUserList","reqAddUser","userObj","reqUpdateUser","reqDeleteUser","userId","Login","pwdvalidator","rule","value","callback","length","test","onFinish","values","a","result","msg","props","saveUserInfo","history","push","success","warning","this","to","className","src","logo","alt","initialValues","remember","Item","rules","required","prefix","UserOutlined","placeholder","validator","LockOutlined","htmlType","Component","connect","state","setItem","menuList","key","icon","path","children","confirm","Header","withRouter","isFull","date","dayjs","format","weather","getWeather","setState","forecast","fullScreen","screenfull","toggle","getTitle","pathkey","location","pathname","indexOf","split","reverse","forEach","item","Array","tmp","find","item2","logout","deleteUserInfo","ExclamationCircleOutlined","cancelText","okText","content","onOk","on","timeID","setInterval","clearInterval","low","String","substring","height","high","size","onClick","FullscreenExitOutlined","FullscreenOutlined","SubMenu","LeftNav","saveTitle","hasAuth","menusList","toString","some","item3","createMenu","target","map","React","createElement","Icon","selectedKeys","defaultOpenKeys","splice","mode","theme","Step","Home","count","DEFAULT_OPTION","text","tooltip","trigger","legend","toolbox","show","feature","dataView","readOnly","restore","saveAsImage","grid","top","left","right","bottom","dataZoom","end","visualMap","min","max","color","xAxis","boundaryGap","res","len","unshift","toLocaleTimeString","replace","yAxis","scale","series","xAxisIndex","yAxisIndex","itemStyle","normal","barBorderRadius","animationEasing","animationDelay","idx","animationDelayUpdate","Math","round","random","toFixed","contentStyle","width","useState","option","setOption","useEffect","timer","axisData","newOption","cloneDeep","getSeconds","data0","data1","shift","fetchNewData","style","marginTop","marginLeft","fontSize","fontWeight","lineHeight","autoplay","progressDot","current","direction","description","Category","saveCategory","formRef","createRef","visible","operType","isLoading","modalCurrentValue","modalCurrentId","isModalVisible","getCategoryList","showAdd","setFieldsValue","showUpdate","toAdd","resetFields","toUpdate","categoryObj","handleOk","validateFields","then","catch","info","handleCancel","deleteCatory","showModal","productName","deleteOk","deleteCancel","dataSource","columns","dataIndex","render","keyboard","destroyOnClose","onCancel","align","extra","PlusOutlined","bordered","rowKey","pagination","showQuickJumper","loading","ref","initialValue","Option","Product","total","getProductList","number","isSearch","list","saveProduct","updateProdStatus","inputChange","event","search","deleteProduct","price","defaultValue","onChange","margin","allowClear","SearchOutlined","PlusCircleOutlined","Detail","desc","detail","imgs","getProductById","id","getCategorylist","match","reduxCateList","reduxProdList","goBack","ArrowLeftOutlined","index","dangerouslySetInnerHTML","__html","getBase64","file","reader","FileReader","readAsDataURL","onload","onerror","PicturesWall","previewVisible","previewImage","previewTitle","fileList","handlePreview","url","preview","originFileObj","lastIndexOf","handleChange","getImageArr","setFileList","imgArr","uid","uploadButton","listType","onPreview","footer","EditorConvertToHTML","editorState","EditorState","createEmpty","onEditorStateChange","getRichText","draftToHtml","convertToRaw","getCurrentContent","setRichText","html","contentBlock","htmlToDraft","contentState","ContentState","createFromBlockArray","contentBlocks","createWithContent","editorStyle","border","paddingLeft","minHeight","Add_update","operaType","pictureWall","richTextEditor","setDetialMessage","onFinishFailed","errorInfo","setTimeout","labelCol","md","wrapperCol","label","addonAfter","User","isShowAdd","userList","roleList","user_email","user_phone","role_id","user_name","getUserList","users","roles","clickUpdate","email","phone","add","filter","ele","clickAdd","clickDelete","toDelete","handleOkModal","handleCancelModal","time","defaultPageSize","span","disabled","Role","isShowAuth","checkedKeys","getRoleList","handleAuthOk","auth_name","handleAuthCancel","onCheck","showAuth","renderTreeNodes","treeData","onSubmit","checkable","defaultExpandAll","Bar","opts","renderer","Line","containLabel","stack","areaStyle","Pie","option1","backgroundColor","textStyle","inRange","colorLightness","radius","center","sort","b","roseType","labelLine","lineStyle","smooth","length2","shadowBlur","shadowColor","animationType","subtext","x","formatter","orient","emphasis","shadowOffsetX","onChartReady","Footer","Sider","Content","Admin","demo","component","exact","AddUpdate","App","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.3eb7d4fb.chunk.js","sourcesContent":["//防止编码人员犯错误，写错action的名字\n\n//保存用户信息\nexport const SAVE_USER_INFO = 'save_user_info'\n//删除用户信息\nexport const DELETE_USER_INFO = 'delete_user_info'\n//保存头部的标题\nexport const SAVE_TITLE = 'save_title'\n//保存初始化的、搜索的商品分页信息\nexport const SAVE_PROD_LIST = 'save_prod_list'\n//保存商品分类信息\nexport const SAVE_CATEGORY_LIST = 'save_category_list'\n","import {SAVE_USER_INFO,DELETE_USER_INFO} from '../action_types'\n\n//创建保存用户信息的action\nexport const createSaveUserInfoAction = (value)=> {\n  //向localStorage中保存用户信息\n  console.log(JSON.stringify(value.data.username),\"value\");\n  localStorage.setItem('user',JSON.stringify(value.data.username))\n  console.log(value)\n  if(value.data.role){\n    localStorage.setItem('role',value.data.role.menus)\n    console.log(value.data);\n  }\n  //向localStorage中保存token\n  localStorage.setItem('token',value.token)\n  return {type:SAVE_USER_INFO,data:value}\n}\n\n//创建删除用户信息的action\nexport const createDeleteUserInfoAction = ()=> {\n  //从localStorage中删除用户信息\n  localStorage.removeItem('user')\n   //从localStorage中删除token\n  localStorage.removeItem('token')\n  localStorage.removeItem('role')\n  return {type:DELETE_USER_INFO}\n}\n","import {SAVE_USER_INFO,DELETE_USER_INFO} from '../action_types'\n\n//尝试从localStorage中读取之前保存的信息\nlet user = JSON.parse(localStorage.getItem('user'))\nlet token = localStorage.getItem('token')\nlet role = localStorage.getItem('role')\n//初始化userInfo数据\nlet initState = {\n  //若有值，取出使用，没有值，为空\n  user: user || '',\n  token: token || '',\n  role:role || '',\n  isLogin: user && token ? true :false\n}\n\nexport default function test(preState=initState,action) {\n  const {type,data} = action\n  console.log(data,\"AAAAAAAAAAAAA\");\n  let newState\n  switch (type) {\n    case SAVE_USER_INFO: //保存user和token\n      const {token} = data \n      const menus = data.data.role.menus || ''\n      const user = data.data.username\n      newState = {user,role:menus,token,isLogin:true}\n      return newState\n    case DELETE_USER_INFO://删除user和token\n      newState = {user:'',role:'',token:'',isLogin:false}\n      return newState\n    default:\n      return preState\n  }\n}","import {SAVE_PROD_LIST} from '../action_types'\n\n//初始化title数据\nlet initState = []\n\nexport default function test(preState=initState,action) {\n  const {type,data} = action\n  let newState\n  switch (type) {\n    case SAVE_PROD_LIST: \n      newState = [...data]\n      return newState\n    default:\n      return preState\n  }\n}","import {SAVE_CATEGORY_LIST} from '../action_types'\n\n//初始化title数据\nlet initState = []\n\nexport default function test(preState=initState,action) {\n  const {type,data} = action\n  let newState\n  switch (type) {\n    case SAVE_CATEGORY_LIST: \n      newState = [...data]\n      return newState\n    default:\n      return preState\n  }\n}","import {combineReducers} from 'redux'\nimport loginReducer from './login_recuder'\nimport menuRecuder from './menu_recuder'\nimport productRecuder from './product_recuder'\nimport categoryRecuder from './category_reducer'\n\n//整合所有reducer汇总所有状态\nexport default combineReducers({\n  //该对象里的key和value决定着store里保存该状态的key和value\n  userInfo:loginReducer,\n  title:menuRecuder,\n  productList:productRecuder,\n  categoryList:categoryRecuder\n})\n","import {SAVE_TITLE} from '../action_types'\n\n//初始化title数据\nlet initState = ''\n\nexport default function test(preState=initState,action) {\n  const {type,data} = action\n  let newState\n  switch (type) {\n    case SAVE_TITLE: \n      newState = data\n      return newState\n    default:\n      return preState\n  }\n}","//最核心的管理者--store\n//从redux中引入createStore，用于创建最核心的store对象\nimport {createStore,applyMiddleware} from 'redux' \n//引入reducer\nimport reducers from './reducers'\n//引入redux-thunk\nimport thunk from 'redux-thunk'\n//引入redux-devtools-extension，用于支持redux开发者调试工具的运行\nimport { composeWithDevTools } from 'redux-devtools-extension'\n\nexport default createStore(reducers,composeWithDevTools(applyMiddleware(thunk)))","import { message } from 'antd';\r\nimport axios from 'axios'\r\nimport qs from 'querystring'\r\nimport nProgress from 'nprogress';//进度条效果\r\nimport 'nprogress/nprogress.css'\r\nimport store from '../redux/store'\r\nimport {createDeleteUserInfoAction} from '../redux/action_creators/login_action'\r\nconst instance = axios.create({\r\n    timeout:10000,\r\n})\r\n//请求拦截器\r\n// Add a request interceptor\r\ninstance.interceptors.request.use(function (config) {\r\n    // Do something before request is sent\r\n    nProgress.start();//进度条开始\r\n    //从redux中获取之前所保存的token\r\n    const {token} = store.getState().userInfo\r\n    //向请求头发送token验证信息\r\n    if(token){\r\n      config.headers.Authorization = 'atguigu_'+token\r\n    }\r\n    const {method,data} = config\r\n    if(method.toLowerCase() === 'post'){\r\n        if(data instanceof Object){\r\n            config.data = qs.stringify(data)\r\n        }\r\n    }\r\n    return config;\r\n  }, function (error) {\r\n    // Do something with request error\r\n    return Promise.reject(error);\r\n  });\r\n\r\n//响应拦截器\r\n// Add a response interceptor\r\ninstance.interceptors.response.use(function (response) {\r\n    // Any status code that lie within the range of 2xx cause this function to trigger\r\n    // Do something with response data\r\n    nProgress.done();//进度条结束\r\n    return response.data;\r\n  }, function (error) {\r\n    // Any status codes that falls outside the range of 2xx cause this function to trigger\r\n    // Do something with response error\r\n    nProgress.done();//进度条结束\r\n    console.log(error);\r\n    if(error){\r\n      message.error('身份验证失败，请重新登录',1)\r\n      //分发一个删除用户信息的action\r\n      store.dispatch(createDeleteUserInfoAction())\r\n    }else{\r\n      message.error(error.message,3)\r\n    }\r\n    \r\n    return new Promise(()=>{})\r\n  });\r\nexport default instance","//配置基本路径，便于以后修改\r\nexport const BASE_URL = ''//发送基本请求路径，在当前开发环境，给自己的代理服务器发送请求，以后项目上线，配置为项目服务器\r\n\r\n\r\n//当前城市名\r\nexport const CITY = '南岸区'\r\n\r\nexport const PAGE_SIZE = 5\r\n","import { message } from 'antd'\r\nimport jsonp from 'jsonp'\r\nimport ajax  from './ajax'\r\nimport {BASE_URL,CITY} from '../config/index'\r\n//登录请求\r\n// export const reqLogin = (username, password) => ajax('/login', {username, password}, 'POST')\r\nexport const reqLogin = (username, password) => ajax.post(`${BASE_URL}/login`, {username, password})\r\n\r\n//获取商品列表\r\nexport const reqCategoryList = () => ajax.get(`${BASE_URL}/manage/category/list`)\r\n    \r\n//获取天气信息\r\nexport const reqWheather = ()=>{\r\n    return new Promise((resolve,reject)=>{\r\n        jsonp(`http://wthrcdn.etouch.cn/weather_mini?city=${CITY}`,(err,data)=>{\r\n        if(err){\r\n          message.error('请求天气接口失败，请联系管理员')\r\n          return new Promise(()=>{})\r\n        }else{\r\n          \r\n          resolve(data)\r\n        }\r\n      })\r\n    })   \r\n}\r\n\r\n//新增商品分类\r\nexport const reqAddCategory = ({categoryName}) => ajax.post(`${BASE_URL}/manage/category/add`, {categoryName})\r\n\r\n//更新商品分类\r\nexport const reqUpdateCategory = ({categoryId,categoryName}) => ajax.post(`${BASE_URL}/manage/category/update`, {categoryId,categoryName})\r\n\r\n//请求删除分类\r\nexport const reqDeleteCategory = (categoryId) => ajax.post(`${BASE_URL}/manage/category/delete`, {categoryId})\r\n\r\n//请求商品分页列表\r\nexport const reqProductList = (pageNum,pageSize)=> ajax.get(`${BASE_URL}/manage/product/list`,{params:{pageNum,pageSize}})\r\n\r\n//请求商品上架下架处理\r\nexport const reqUpdateProdStatus = (productId,status) => ajax.post(`${BASE_URL}/manage/product/updateStatus`, {productId,status})\r\n\r\n//搜索商品\r\nexport const reqSearchProductList = (pageNum,pageSize,searchType,keyWord)=> ajax.get(`${BASE_URL}/manage/product/search`,{params:{pageNum,pageSize,[searchType]:keyWord}})\r\n\r\n//根据商品id获取信息\r\nexport const reqProdById = (productId)=> ajax.get(`${BASE_URL}/manage/product/info`,{params:{productId}})\r\n\r\n//根据图片名称删除图片\r\nexport const reqDeletePicture = (name) => ajax.post(`${BASE_URL}/manage/img/delete`, {name})\r\n\r\n//请求添加商品\r\nexport const reqAddProduct = (product) => ajax.post(`${BASE_URL}/manage/product/add`, {...product})\r\n\r\n//请求更新商品\r\nexport const reqUpdateProduct = (product) => ajax.post(`${BASE_URL}/manage/product/update`, {...product})\r\n\r\n//请求删除商品\r\nexport const reqDeleteProduct = (_id) => ajax.post(`${BASE_URL}/manage/product/delete`, {_id})\r\n\r\n//请求所有角色列表\r\nexport const reqRoleList = ()=>ajax.get(`${BASE_URL}/manage/role/list`)\r\n\r\n//请求添加角色\r\nexport const reqAddRole = ({roleName})=>ajax.post(`${BASE_URL}/manage/role/add`,{roleName})\r\n\r\n//请求给角色授权export const reqAddRole = ({roleName})=>ajax.post(`${BASE_URL}/manage/role/add`,{roleName})\r\nexport const reqAuthRole = (roleObj)=>ajax.post(`${BASE_URL}/manage/role/update`,{...roleObj,auth_time:Date.now()})\r\n\r\n//请求获取所有用户列表（同时携带着角色列表）\r\nexport const reqUserList = ()=> ajax.get(`${BASE_URL}/manage/user/list`)\r\n\r\n//请求添加用户\r\nexport const reqAddUser = (userObj)=> ajax.post(`${BASE_URL}/manage/user/add`,{...userObj})\r\n\r\n//请求更新用户\r\nexport const reqUpdateUser = (userObj)=> ajax.post(`${BASE_URL}/manage/user/update`,{...userObj})\r\n\r\n//请求删除用户\r\nexport const reqDeleteUser = (userId)=> ajax.post(`${BASE_URL}/manage/user/delete`,{userId})","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMAAAADACAMAAABlApw1AAAAA3NCSVQICAjb4U/gAAABiVBMVEX/////agD/agD/agD/agD/agD/agD/agD/agD/agD/agD/agD/agD/agD/agD//////fz//Pn/+/f/+fX/9/L/9e3/9e//8un/8+v/8OX/69//5tf/5dX/5NP/48//4c7/4M3/4Mn/3sn/3cf/28T/173/1bz/1br/1bf/07X/0rj/0bH/0bT/z7P/zq//zaz/zKn/y6n/yqb/yaf/yKX/xZ3/xJv/w5n/wZf/v5X/vpH/vZH/u4//t4r/tIX/s4P/sX//sH3/rXv/rHb/qHH/p3D/o2n/omf/oWT/n2L/nmD/nl//nV3/nFv/m1j/mlf/llD/kkz/k0j/kk7/kUr/kUb/j0f/jUT/jUP/iz3/iUL/iTn/iDf/hzr/hTT/hTb/gzH/gzj/gC3/gS//gCr/fij/fCj/eyP/eiT/eST/eCH/dxz/diD/dRz/cxX/cxn/cBH/bxn/bxD/bAz/bQn/agD/aQf/aQn/ZgD/ZgT/ZQX/ZQb/YgD/YgP/YAD/XgD/XAD/WgD/UwDc4NsiAAAAg3RSTlMAESIzRFVmd4iZqrvM3e7//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////z6LJ9sAAAAJcEhZcwAACxIAAAsSAdLdfvwAAAAXdEVYdENyZWF0aW9uIFRpbWUAMjAyMS4zLjMx1VlJWAAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAAdoSURBVHic7Z35e9REGMeb+5xsQbFKBZWCihcC2haoini1eN+3olIVvKpYDRqT1b/cpOnuJpkk+2YyuzPv8/T7W5807fvJvO/MO/fCAi8pqqbrhmnZjuv5PgmCYHes9Afi+57r2JZp6LqmKtz+bV8pmm7kNhNSNrpJGQwhOY2Rsoiz3LAcjwAsnsJDPMcytLkWiaKZjt/b8gqH75jzodAsl/C1fSLiWtpMjVcMZ2bGjyEcY0YFoRguZ7dpUuDOgEGzZ/7tiyI2X1/SvXla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\"","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux';\r\nimport { Form, Input, Button,message  } from 'antd';\r\nimport { UserOutlined, LockOutlined } from '@ant-design/icons';\r\nimport {Redirect} from 'react-router-dom'\r\n// import axios from 'axios'\r\nimport {createSaveUserInfoAction} from '../../redux/action_creators/login_action'\r\nimport { reqLogin } from '../../api/index';\r\nimport logo from '../../static/img/logo.png'\r\nimport './css/login.min.css'\r\nclass Login extends Component {\r\n  //密码验证器\r\n  pwdvalidator  = (rule,value,callback)=>{//箭头函数\r\n    if(!value){\r\n      return Promise.reject('密码必须输入');\r\n    }else if(value.length < 2){\r\n      return Promise.reject('密码长度必须大于等于2')\r\n    }\r\n    else if(value.length > 15){\r\n      return Promise.reject('密码长度必须小于15')\r\n    }else if(!(/^\\w+$/).test(value)){\r\n      return Promise.reject('密码只能包含字母数字下划线字符')\r\n    }else{\r\n      return Promise.resolve();\r\n    }\r\n}\r\n\r\n     onFinish = async(values) => {\r\n            const {username,password} = values;\r\n            let result = await reqLogin(username,password)\r\n            const {status,msg} = result;\r\n            if(status === 0){\r\n             //1.服务器返回的user信息，还有token交由redux管理\r\n             this.props.saveUserInfo(result)\r\n              //2.跳转admin页面\r\n              this.props.history.push('/admin/home');\r\n              message.success(\"登陆成功\")\r\n                \r\n            }else {\r\n              message.warning(msg,2)\r\n            }\r\n          };\r\n  render() {\r\n        const {isLogin} =this.props;\r\n          if(isLogin){\r\n            return <Redirect to=\"/admin\"/>\r\n          }\r\n        return (\r\n            <div className=\"login\">\r\n                <header>\r\n                     <img src={logo} alt=\"logo\"/>\r\n                     <h1>登录界面</h1>\r\n                </header>\r\n                <section>\r\n                    <h1>用户登录</h1>\r\n    <Form\r\n        name=\"normal_login\"\r\n      className=\"login-form\"\r\n      initialValues={{\r\n        remember: true,\r\n      }}\r\n      onFinish={this.onFinish}\r\n    >\r\n      <Form.Item\r\n         name=\"username\"\r\n         rules={[{ required: true, message: '请输入您的用户名!' }]}\r\n       >\r\n         <Input prefix={<UserOutlined className=\"site-form-item-icon\" />} placeholder=\"用户名\" />\r\n      </Form.Item>\r\n      <Form.Item\r\n        name=\"password\"\r\n         rules={[\r\n           {\r\n             validator:this.pwdvalidator,\r\n           }\r\n      //     {\r\n      //       required: true,\r\n      //       message: '请输入你的密码!',\r\n      //     },\r\n      //     {\r\n      //       pattern: /^\\w+$/,\r\n      //       message: '密码只能包含字母数字下划线字符',\r\n      //   },\r\n      //   {\r\n      //     max: 15,\r\n      //     message: '密码最长10位',\r\n      // },\r\n      // {\r\n      //     min: 5,\r\n      //     message: '密码至少5位',\r\n      // }, \r\n         ]}\r\n      >\r\n        <Input\r\n          prefix={<LockOutlined className=\"site-form-item-icon\" />}\r\n          type=\"password\"\r\n          placeholder=\"密码\"\r\n        />\r\n      </Form.Item>\r\n      <Form.Item>\r\n        <Button type=\"primary\" htmlType=\"submit\" className=\"login-form-button\">\r\n          登录\r\n        </Button>\r\n      </Form.Item>\r\n    </Form>\r\n                </section>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nconst mapStateToProps = (state)=>{\r\n  return {\r\n      isLogin:state.userInfo.isLogin\r\n  }\r\n}\r\n// const mapDispatchToProps = () => {\r\n//   return {\r\n//     saveUserInfo:createSaveUserInfoAction,\r\n//   }\r\n// };\r\nexport default connect(\r\n  mapStateToProps,{saveUserInfo:createSaveUserInfoAction,}\r\n)(Login)\r\n// export default connect(\r\n//   state => ({isLogin:state.userInfo.isLogin}),\r\n//   {saveUserInfo:createSaveUserInfoAction,}\r\n// )(Login)","//项目的菜单配置\nconst menuList = [ //eslint-disable-next-line\n  {\n    title: '首页', // 菜单标题名称\n    key: 'home', // 对应的path\n    icon: 'HomeOutlined', // 图标名称\n    path: '/admin/home'//对应路径\n  },\n  {\n    title: '商品',\n    key: 'prod_about',\n    icon: 'HomeOutlined',\n    children: [ // 子菜单列表\n      {\n        title: '分类管理',\n        key: 'category',\n        icon: 'UnorderedListOutlined',\n        path: '/admin/prod_about/category'\n      },\n      {\n        title: '商品管理',\n        key: 'product',\n        icon: 'ToolOutlined',\n        path: '/admin/prod_about/product'\n      },\n    ]\n  },\n\n  {\n    title: '用户管理',\n    key: 'user',\n    icon: 'UserOutlined',\n    path: '/admin/user'\n  },\n  {\n    title: '角色管理',\n    key: 'role',\n    icon: 'SafetyOutlined',\n    path: '/admin/role'\n  },\n\n  {\n    title: '图形图表',\n    key: 'charts',\n    icon: 'AreaChartOutlined',\n    children: [\n      {\n        title: '柱形图',\n        key: 'bar',\n        icon: 'BarChartOutlined',\n        path: '/admin/charts/bar'\n      },\n      {\n        title: '折线图',\n        key: 'line',\n        icon: 'LineChartOutlined',\n        path: '/admin/charts/line'\n      },\n      {\n        title: '饼图',\n        key:  'pie',\n        icon: 'PieChartOutlined',\n        path: '/admin/charts/pie'\n      },\n    ]\n  },\n]\nexport default menuList","import React, { Component } from 'react'\r\nimport {FullscreenOutlined,FullscreenExitOutlined,ExclamationCircleOutlined} from '@ant-design/icons';\r\nimport screenfull from 'screenfull';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router';\r\nimport dayjs from 'dayjs'\r\nimport { Modal, Button} from 'antd';\r\nimport './css/header.min.css'\r\nimport menuList from '../../../config/menu_config';\r\nimport {reqWheather} from '../../../api/index'\r\nimport {createDeleteUserInfoAction} from '../../../redux/action_creators/login_action'\r\nconst { confirm } = Modal;\r\n@withRouter\r\nclass Header extends Component {\r\n    state = {\r\n        isFull:false,\r\n        date:dayjs().format(' YYYY年MM月DD日 HH:mm:ss'),\r\n        weather:{},\r\n        title:\"\"\r\n    }\r\n    getWeather = async()=>{\r\n        let result = await reqWheather()\r\n        this.setState({weather:result.data.forecast[0]})\r\n    }\r\n    componentDidMount(){\r\n        //给screenfull绑定监听\r\n        screenfull.on('change', () => {\r\n            let isFull = !this.state.isFull\r\n            this.setState({isFull})\r\n        });\r\n        this.timeID = setInterval(()=>{//箭头函数\r\n              this.setState({date:dayjs().format(' YYYY年MM月DD日 HH:mm:ss')})\r\n        },1000)\r\n        this.getWeather()\r\n        this.getTitle()\r\n        \r\n    }\r\n    componentWillUnmount(){\r\n        //清除更新时间定时器\r\n        clearInterval(this.timeID)\r\n      }\r\n    //切换全屏按钮的回调\r\n    fullScreen = ()=>{//箭头函数\r\n        screenfull.toggle()\r\n    }\r\n    //上方标题\r\n    getTitle =()=>{//箭头函数\r\n          let pathkey = this.props.location.pathname.indexOf('product') !== -1 ? 'product' :this.props.location.pathname.split('/').reverse()[0]\r\n          let title = ''\r\n          menuList.forEach((item)=>{//箭头函数\r\n                if(item.children instanceof Array){\r\n                    let tmp = item.children.find((item2)=>{//箭头函数\r\n                          return item2.key === pathkey\r\n                    })\r\n                    if(tmp) title = tmp.title\r\n                }else{\r\n                    if(pathkey === item.key) title = item.title\r\n                }\r\n          })\r\n          this.setState({title})\r\n    }\r\n    logout=()=>{//退出登录函数\r\n        let {deleteUserInfo} = this.props\r\n        confirm({\r\n            title: '确定退出登录？',\r\n            icon: <ExclamationCircleOutlined />,\r\n            cancelText:'取消',\r\n            okText:'确定',\r\n            content: '若退出则需要重新输入账号密码用以登录',\r\n            onOk() {\r\n                deleteUserInfo()\r\n            },\r\n          });\r\n        \r\n  }\r\n    render() {\r\n        let {isFull,weather} = this.state\r\n        const low = String(weather.low).substring(2)\r\n        const height =String(weather.high).substring(2)\r\n        const {user}=  this.props.userInfo\r\n        return (\r\n            <header className=\"header\">\r\n                <div className=\"header-top\">\r\n                    <Button size=\"small\" onClick={this.fullScreen}>\r\n                    {isFull ? <FullscreenExitOutlined/>:<FullscreenOutlined />  }\r\n                    </Button>\r\n                    <span className=\"username\">欢迎,{user}</span>\r\n                    <Button type=\"link\"size=\"small\" onClick = {this.logout}>退出登录</Button>\r\n                </div>\r\n                <div className=\"header-bottom\">\r\n                <div className=\"header-bottom-left\">\r\n                    {this.props.title || this.state.title}\r\n                    </div>\r\n                <div className=\"header-bottom-right\">\r\n                    {this.state.date}\r\n                    <img src=\"https://p7.itc.cn/q_70/images03/20210203/562a12a8cbc840dba5c327db641a097c.png\" alt=\"天气信息\"/>\r\n                    {weather.type} {low}~{height}\r\n                    \r\n                </div>\r\n                </div>\r\n            </header>\r\n        )\r\n    }\r\n}\r\n\r\n\r\n\r\nconst mapStateToProps = (state)=>({\r\n    userInfo:state.userInfo,\r\n    title:state.title\r\n})\r\nexport default connect(\r\nmapStateToProps,\r\n{deleteUserInfo:createDeleteUserInfoAction}\r\n)(Header)","import React, { Component } from 'react'\r\nimport { Menu} from 'antd';\r\nimport { Link,withRouter } from 'react-router-dom';\r\nimport  * as Icon from '@ant-design/icons';\r\nimport { connect } from 'react-redux';\r\nimport logo from '../../../static/img/logo.png'\r\nimport {createSaveTitleAction} from '../../../redux/action_creators/menu_action'\r\nimport '../left_nav/left_nav.min.css'\r\nimport menuList from '../../../config/menu_config'\r\n\r\n\r\nconst { SubMenu } = Menu;\r\n@connect(\r\n  state =>({menus:state.userInfo.role,\r\n  username:state.userInfo.user}),\r\n  {\r\n    saveTitle:createSaveTitleAction\r\n  }\r\n)\r\n@withRouter\r\nclass LeftNav extends Component {\r\n  hasAuth = (item)=>{//箭头函数\r\n    const menus = this.props.menus\r\n    const {username} = this.props\r\n    const menusList = menus.toString().split(',')\r\n    if(username === 'admin'){\r\n      return true\r\n    } \r\n    else if(!item.children){\r\n        return menusList.find((item2)=>{return item2 === item.key})\r\n      }\r\n    else if(item.children){\r\n        return item.children.some((item3)=>{return menusList.indexOf(item3.key) !== -1})\r\n      }\r\n    \r\n    }\r\n      createMenu = (target)=>{//箭头函数\r\n        return (target.map((item)=>{//箭头函数\r\n          if(this.hasAuth(item)){\r\n          if(!item.children){\r\n            return(\r\n            <Menu.Item key={item.key} onClick={()=>{this.props.saveTitle(item.title)}}>\r\n              <span>{\r\n                React.createElement(\r\n                  Icon[item.icon]\r\n                )\r\n              }</span>\r\n              <Link to={item.path}>{item.title}</Link>\r\n            </Menu.Item>\r\n            )}else{\r\n              return(\r\n  <SubMenu key={item.key} icon={React.createElement(Icon[item.icon])} title={<span>{item.title}</span>}>\r\n    {\r\n      this.createMenu(item.children)\r\n    }\r\n    \r\n  </SubMenu> \r\n              )\r\n            }\r\n          }\r\n          else{\r\n            return false\r\n          }\r\n    }))\r\n      }\r\n      render() {\r\n        const {pathname} = this.props.location\r\n        return (\r\n          <div >\r\n              <header className=\"nav-header\">\r\n                  <img src={logo} alt=\"\"/>\r\n                  <h1>商品管理系统</h1>\r\n              </header>\r\n            <Menu\r\n              selectedKeys={pathname.indexOf('product') !== -1 ? 'product' :pathname.split('/').reverse()[0]}\r\n              defaultOpenKeys={pathname.split('/').splice(2)}\r\n              mode=\"inline\"\r\n              theme=\"dark\"\r\n            >\r\n              {\r\n                this.createMenu(menuList)\r\n              }\r\n            </Menu>\r\n          </div>\r\n        );\r\n      }\r\n}\r\nexport default LeftNav","import {SAVE_TITLE} from '../action_types'\n\n//创建保存用户信息的action\nexport const createSaveTitleAction = (value)=> {\n  return {type:SAVE_TITLE,data:value}\n}\n","import React, { useState, useEffect } from 'react';\r\nimport ReactECharts from 'echarts-for-react';\r\nimport cloneDeep from 'lodash.clonedeep';\r\nimport { Card ,Steps,Carousel} from 'antd';\r\nimport './home.min.css'\r\nconst { Step } = Steps;\r\nconst Home = () => {\r\n  const DEFAULT_OPTION = {\r\n    title: {\r\n      text:'销量图',\r\n    },\r\n    tooltip: {\r\n      trigger: 'axis'\r\n    },\r\n    legend: {\r\n      data:['最新成交价', '预购队列']\r\n    },\r\n    toolbox: {\r\n      show: true,\r\n      feature: {\r\n        dataView: {readOnly: false},\r\n        restore: {},\r\n        saveAsImage: {}\r\n      }\r\n    },\r\n    grid: {\r\n      top: 60,\r\n      left: 30,\r\n      right: 60,\r\n      bottom:30\r\n    },\r\n    dataZoom: {\r\n      show: false,\r\n      start: 0,\r\n      end: 100\r\n    },\r\n    visualMap: {\r\n      show: false,\r\n      min: 0,\r\n      max: 1000,\r\n      color: ['#BE002F', '#F20C00', '#F00056', '#FF2D51', '#FF2121', '#FF4C00', '#FF7500',\r\n        '#FF8936', '#FFA400', '#F0C239', '#FFF143', '#FAFF72', '#C9DD22', '#AFDD22',\r\n        '#9ED900', '#00E500', '#0EB83A', '#0AA344', '#0C8918', '#057748', '#177CB0']\r\n    },\r\n    xAxis: [\r\n      {\r\n        type: 'category',\r\n        boundaryGap: true,\r\n        data: (function (){\r\n          let now = new Date();\r\n          let res = [];\r\n          let len = 50;\r\n          while (len--) {\r\n            res.unshift(now.toLocaleTimeString().replace(/^\\D*/,''));\r\n            now = new Date(now - 2000);\r\n          }\r\n          return res;\r\n        })()\r\n      },\r\n      {\r\n        type: 'category',\r\n        boundaryGap: true,\r\n        data: (function (){\r\n          let res = [];\r\n          let len = 50;\r\n          while (len--) {\r\n            res.push(50 - len + 1);\r\n          }\r\n          return res;\r\n        })()\r\n      }\r\n    ],\r\n    yAxis: [\r\n      {\r\n        type: 'value',\r\n        scale: true,\r\n        name: '价格',\r\n        max: 20,\r\n        min: 0,\r\n        boundaryGap: [0.2, 0.2]\r\n      },\r\n      {\r\n        type: 'value',\r\n        scale: true,\r\n        name: '预购量',\r\n        max: 1200,\r\n        min: 0,\r\n        boundaryGap: [0.2, 0.2]\r\n      }\r\n    ],\r\n    series: [\r\n      {\r\n        name:'预购队列',\r\n        type:'bar',\r\n        xAxisIndex: 1,\r\n        yAxisIndex: 1,\r\n        itemStyle: {\r\n          normal: {\r\n            barBorderRadius: 4,\r\n          }\r\n        },\r\n        animationEasing: 'elasticOut',\r\n        animationDelay: function (idx) {\r\n          return idx * 10;\r\n        },\r\n        animationDelayUpdate: function (idx) {\r\n          return idx * 10;\r\n        },\r\n        data:(function (){\r\n          let res = [];\r\n          let len = 50;\r\n          while (len--) {\r\n            res.push(Math.round(Math.random() * 1000));\r\n          }\r\n          return res;\r\n        })()\r\n      },\r\n      {\r\n        name:'最新成交价',\r\n        type:'line',\r\n        data:(function (){\r\n          let res = [];\r\n          let len = 0;\r\n          while (len < 50) {\r\n            res.push((Math.random()*10 + 5).toFixed(1) - 0);\r\n            len++;\r\n          }\r\n          return res;\r\n        })()\r\n      }\r\n    ]\r\n  };\r\n  const contentStyle = {\r\n    height: '350px',\r\n    width:'100%'\r\n  };\r\n  let count;\r\n\r\n  const [option, setOption] = useState(DEFAULT_OPTION);\r\n\r\n  function fetchNewData() {\r\n    const axisData = (new Date()).toLocaleTimeString().replace(/^\\D*/,'');\r\n    const newOption = cloneDeep(option); // immutable\r\n    newOption.title.text = 'Hello Echarts-for-react.' + new Date().getSeconds();\r\n    const data0 = newOption.series[0].data;\r\n    const data1 = newOption.series[1].data;\r\n    data0.shift();\r\n    data0.push(Math.round(Math.random() * 1000));\r\n    data1.shift();\r\n    data1.push((Math.random() * 10 + 5).toFixed(1) - 0);\r\n\r\n    newOption.xAxis[0].data.shift();\r\n    newOption.xAxis[0].data.push(axisData);\r\n    newOption.xAxis[1].data.shift();\r\n    newOption.xAxis[1].data.push(count++);\r\n\r\n    setOption(newOption);\r\n  }\r\n\r\n  useEffect(() => {\r\n    const timer = setInterval(() => {\r\n      fetchNewData();\r\n    }, 1000);\r\n\r\n    return () => clearInterval(timer);\r\n  });\r\n\r\n  return (\r\n    <div className=\"all\">\r\n      <div className=\"top\">\r\n      <div className=\"top-left\">\r\n      <Card title=\"商品总量\"style={{ width: 300,marginTop:10,marginLeft:10}}>\r\n      <p style={{fontSize:20,fontWeight:800,lineHeight:2}}>1,128,163个</p>\r\n      <p>周同比15%</p>\r\n      <p>日同比10%</p>\r\n    </Card>\r\n        </div>\r\n        <div className=\"top-center\">\r\n        <Carousel autoplay>\r\n    <div>\r\n      <img  style={contentStyle}src='http://images1.wenming.cn/web_wenming/photo/tuji/202011/W020201130584455404015.jpg' alt=\"img\"/>\r\n    </div>\r\n    <div>\r\n    <img style={contentStyle} src='http://images.wenming.cn/web_wenming/photo/jincai/202011/W020201129331611631025.jpg' alt=\"img\"/>\r\n    </div>\r\n    <div>\r\n    <img style={contentStyle} src='http://images1.wenming.cn/web_wenming/photo/jincai/202004/W020200419503248513947.jpg' alt=\"img\"/>\r\n    </div>\r\n    <div>\r\n    <img style={contentStyle} src='http://images1.wenming.cn/web_wenming/photo/jincai/202004/W020200419505525813050.jpg' alt=\"img\"/>\r\n    </div>\r\n  </Carousel>,\r\n        </div>\r\n        <div className=\"top-right\">\r\n        <Card title=\"任务进展\"style={{ width: 300 }}>\r\n        <Steps progressDot current={1} direction=\"vertical\">\r\n      <Step title=\"新版本迭代会\" />\r\n      <Step status='finish' title=\"完成网站设计初版\" />\r\n      <Step status='process' title=\"联调接口\" description=\"功能验收\" />\r\n      <Step status='error' title=\"登录功能设计\" description=\"验证权限\"/>\r\n      <Step status='wait' title=\"页面排版\"/>\r\n      <Step status='wait' title=\"UI设计\"/>\r\n      <Step status='wait' title=\"代码编程\"/>\r\n      <Step status='wait' title=\"测试功能\"/>\r\n\r\n      </Steps>\r\n      </Card>\r\n        \r\n      </div>\r\n      </div>\r\n  <ReactECharts\r\n    option={option}\r\n    style={{ height: '50%',width:'82%',marginTop:20}}\r\n  />\r\n\r\n    </div>\r\n  )\r\n  \r\n  \r\n};\r\n\r\nexport default Home;","import React, { Component } from 'react'\r\nimport { Card,Button,Table, message,Modal,Form,Input} from 'antd';\r\nimport{PlusOutlined} from '@ant-design/icons'\r\nimport {reqCategoryList,reqAddCategory,reqUpdateCategory,reqDeleteCategory,} from '../../api/index'\r\nimport {PAGE_SIZE} from '../../config/index'\r\nimport { connect } from 'react-redux';\r\nimport {createSaveCategoryAction} from '../../redux/action_creators/category_action'\r\n@connect(\r\n    state =>({}),\r\n    {saveCategory:createSaveCategoryAction}\r\n)\r\n class Category extends Component {\r\n    formRef = React.createRef()\r\n    state = {\r\n        categoryList:[],//商品分类列表\r\n        visible:false,//控制弹窗展示或隐藏\r\n        operType:'',//操作类型\r\n        isLoading:true,//是否处于加载中\r\n        modalCurrentValue:'',//弹窗内容展示--点击数据回显\r\n        modalCurrentId:'',//\r\n        isModalVisible:false,\r\n        _id:'',\r\n\r\n    }\r\n    componentDidMount(){\r\n        //渲染时获取商品列表\r\n       this.getCategoryList()\r\n    }\r\n    //获取分类列表\r\n    getCategoryList = async()=>{//箭头函数\r\n        let result = await reqCategoryList();\r\n        this.setState({isLoading:false})\r\n        const {status,data} = result\r\n        console.log(status,data);\r\n        if(status===0) {\r\n            this.setState({categoryList:data.reverse()})\r\n            this.props.saveCategory(data)\r\n        }\r\n        \r\n        else message.error('请求错误',1)\r\n    }\r\n    //展示弹窗\r\n    showAdd = ()=>{\r\n        if(this.formRef.current !== null){\r\n            this.formRef.current.setFieldsValue({categoryName:\"\"})\r\n        }\r\n        this.setState({\r\n            operType:'add',\r\n            modalCurrentValue:'',\r\n            modalCurrentId:'',\r\n            visible:true\r\n        });\r\n      \r\n       \r\n    };\r\n    //更新分类列表\r\n    showUpdate = (item)=>{\r\n        const {_id,name} = item;\r\n        this.setState({\r\n            modalCurrentValue:name,\r\n            modalCurrentId:_id,//解决第一次点击current为空，设置初始默认值\r\n            operType:'update',\r\n            visible:true\r\n        });\r\n        if(this.formRef.current === null){\r\n            console.log(\"空的\");\r\n        }else{\r\n            this.formRef.current.setFieldsValue({categoryName:name})//调用setFieldsValue方法动态修改分类的值\r\n        }\r\n       \r\n    };\r\n    //添加分类操作\r\n    toAdd = async(values)=>{//箭头函数\r\n          let result = await reqAddCategory(values)\r\n          const {status,msg,data} = result\r\n          if(status === 0){\r\n            message.success('新增商品成功')\r\n            const categoryList =[...this.state.categoryList]\r\n            categoryList.unshift(data)\r\n            this.setState({categoryList})\r\n            //重置表单\r\n           this.formRef.current.resetFields();\r\n           this.setState({\r\n               visible: false\r\n           });\r\n          }\r\n          if(status === 1) message.error(msg,1)\r\n    }\r\n    //更新操作\r\n    toUpdate = async(categoryObj)=>{//箭头函数\r\n          let result = await reqUpdateCategory(categoryObj)\r\n          const {status} = result\r\n          if(status === 0){\r\n           this.getCategoryList();\r\n           this.setState({\r\n               visible: false\r\n           });\r\n           this.formRef.current.resetFields();\r\n           message.success('更新分类名成功',1)\r\n          }else{\r\n              \r\n          }\r\n    }\r\n    //ok回调\r\n    handleOk = ()=>{\r\n       const {operType} = this.state\r\n       this.formRef.current.validateFields()\r\n       .then(values => {\r\n           console.log(values,\"表单values\");\r\n           if(operType === 'add') this.toAdd(values)\r\n            if(operType === 'update'){\r\n                const categoryId= this.state.modalCurrentId;\r\n                const categoryName = values.categoryName;\r\n                const categoryObj = {categoryId,categoryName}\r\n                this.toUpdate(categoryObj);\r\n            } \r\n       })\r\n       .catch(info => {\r\n           console.log('Validate Failed:', info);\r\n       });    \r\n    };\r\n    //取消回调\r\n    handleCancel = ()=>{\r\n        this.setState({\r\n            visible:false,\r\n        });\r\n         //重置表单\r\n        this.formRef.current.resetFields()\r\n    };\r\n    //删除分类\r\n    deleteCatory = async(categoryId)=>{//箭头函数\r\n          let result = await reqDeleteCategory(categoryId)\r\n          const {status} = result\r\n          console.log(result);\r\n          if(status === 0){\r\n              message.success(\"删除成功\",1)\r\n              this.getCategoryList()\r\n          }else{\r\n              message.error(\"删除失败\",1)\r\n          }\r\n    }\r\n    showModal = (item) => {\r\n        this.setState({isModalVisible:true,_id:item._id,productName:item.name})\r\n\r\n      };\r\n    \r\n     deleteOk = () => {\r\n        this.setState({isModalVisible:false})\r\n        this.deleteCatory(this.state._id)\r\n      };\r\n    \r\n      deleteCancel = () => {\r\n        this.setState({isModalVisible:false})\r\n      };\r\n    \r\n    render() {\r\n        const dataSource = this.state.categoryList;\r\n        \r\n        let {operType,visible} = this.state\r\n          const columns = [\r\n            {\r\n              title: '分类名称',\r\n              dataIndex: 'name',\r\n              key: 'name',\r\n            },\r\n            {\r\n              title: '操作',\r\n              //dataIndex:'categoryName',\r\n              key: 'age',\r\n              render:(item)=>{return(\r\n                  <div>\r\n                      <Button type=\"link\" onClick={()=>{this.showUpdate(item)}}>修改分类</Button>\r\n                      <Button type='link' onClick={()=>{this.showModal(item)}}>删除分类</Button>\r\n                            <Modal keyboard destroyOnClose okText=\"确定\" cancelText=\"取消\" title={`删除${this.state.productName}`} visible={this.state.isModalVisible} onOk={this.deleteOk} onCancel={this.deleteCancel}>\r\n                            <p style={{fontSize:'20px',fontWeight:'500'}}>确定删除<span style={{color:'red'}}>{this.state.productName}?</span></p>\r\n                            \r\n                             </Modal>\r\n                  </div>\r\n              )},\r\n              width:\"25%\",\r\n              align:'center'\r\n            },\r\n          ];\r\n        return (\r\n            <div>\r\n            <Card\r\n                extra={<Button onClick={this.showAdd} type=\"primary\"><PlusOutlined />添加</Button>}\r\n            >\r\n               <Table \r\n               dataSource={dataSource}\r\n               columns={columns} \r\n               bordered={true} \r\n               rowKey=\"_id\"\r\n               pagination={{pageSize:PAGE_SIZE,showQuickJumper:true}}\r\n               loading={this.state.isLoading}\r\n              \r\n                />;\r\n            </Card>\r\n\r\n            <Modal \r\n            title={operType === 'add' ? '新增分类' :'修改分类'} \r\n            visible={visible}\r\n            okText='确定'\r\n            cancelText='取消'\r\n            onOk={this.handleOk} \r\n            onCancel={this.handleCancel}\r\n            >\r\n            <Form\r\n                ref={this.formRef}\r\n                name=\"normal_login\"\r\n                className=\"login-form\"\r\n                initialValues={\r\n                    {remember: true}\r\n            }\r\n            >\r\n      <Form.Item\r\n        name=\"categoryName\"\r\n        initialValue={this.state.modalCurrentValue}\r\n        rules={[{ required: true, message: '分类名必须输入' }]}\r\n       >\r\n         <Input  \r\n         placeholder=\"请输入分类名\"\r\n\r\n          />\r\n      </Form.Item>\r\n    \r\n      \r\n    </Form>\r\n            </Modal>\r\n            </div>\r\n            \r\n        )\r\n    }\r\n}\r\nexport default Category\r\n","import {SAVE_CATEGORY_LIST} from '../action_types'\n\n//创建保存用户信息的action\nexport const createSaveCategoryAction = (value)=> {\n  return {type:SAVE_CATEGORY_LIST,data:value}\n}\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux';\r\nimport { Card,Button,Select,Input,Table, message,Modal } from 'antd';\r\nimport {PlusCircleOutlined,SearchOutlined} from '@ant-design/icons'\r\nimport {reqProductList,reqUpdateProdStatus,reqSearchProductList,reqDeleteProduct} from '../../api/index'\r\nimport { PAGE_SIZE } from '../../config';\r\nimport {createSaveProductAction} from '../../redux/action_creators/product_action'\r\nconst { Option } = Select;\r\nclass Product extends Component {\r\n    state={\r\n        productList:[],//商品列表数据\r\n        total:'',//总的页数\r\n        current:1,//当前在哪\r\n        keyWord:'',//搜索关键字\r\n        searchType:'productName',//搜索类型\r\n        isLoading:true,\r\n        isModalVisible:false,\r\n        _id:'',\r\n        productName:''\r\n    }\r\n    componentDidMount(){\r\n        this.getProductList()\r\n    }\r\n\r\n    getProductList = async(number=1)=>{\r\n        let result\r\n    if(this.isSearch){\r\n        const {searchType,keyWord} = this.state\r\n        result = await reqSearchProductList(number,PAGE_SIZE,searchType,keyWord);\r\n    }else{\r\n        result = await reqProductList(number,PAGE_SIZE)\r\n    }\r\n        const {status,data} = result;\r\n        if(status===0){\r\n            this.setState({\r\n                productList:data.list,\r\n                total:data.total,\r\n                current:number,\r\n                isLoading:false\r\n                \r\n            })\r\n            //将商品列表存入redux\r\n            this.props.saveProduct(data.list)\r\n        }else{\r\n            message.error('初始化商品列表失败')\r\n        }\r\n    }\r\n    updateProdStatus = async({_id,status})=>{//箭头函数\r\n        let productList = [...this.state.productList]\r\n        if(status === 1) status = 2\r\n        else status = 1\r\n        let result = await reqUpdateProdStatus(_id,status)\r\n        if(result.status === 0){\r\n            message.success('更新商品状态成功')\r\n            productList.map((item)=>{//箭头函数\r\n                  if(item._id === _id){\r\n                      item.status = status\r\n                  }\r\n                    return item\r\n            })\r\n            this.setState({productList})\r\n        }else{\r\n            message.error('更新商品状态失败')\r\n        }\r\n    }\r\n    inputChange = (event)=>{\r\n        if(event.target.value === ''){\r\n            this.isSearch = false\r\n           this.getProductList()\r\n        }else{\r\n            this.setState({keyWord:event.target.value})\r\n        }\r\n        \r\n    }\r\n    search = async()=>{//箭头函数\r\n          this.isSearch = true\r\n          this.getProductList()\r\n    }\r\n    deleteProduct = async(_id) =>{\r\n        let result = await reqDeleteProduct(_id)\r\n        const {status} = result\r\n        if(status === 0){\r\n            message.success('删除成功',1)\r\n            this.getProductList()\r\n        }else{\r\n            message.error('删除失败',1)\r\n        }\r\n    }\r\n    showModal = (item) => {\r\n        this.setState({isModalVisible:true,_id:item._id,productName:item.name})\r\n\r\n      };\r\n    \r\n     handleOk = () => {\r\n        this.setState({isModalVisible:false})\r\n        this.deleteProduct(this.state._id)\r\n      };\r\n    \r\n      handleCancel = () => {\r\n        this.setState({isModalVisible:false})\r\n      };\r\n    \r\n    render() {\r\n        const dataSource =this.state.productList\r\n          const columns = [\r\n            {\r\n              title: '商品名称',\r\n              dataIndex: 'name',\r\n              key: 'name',\r\n              width:'18%'\r\n            },\r\n            {\r\n              title: '商品描述',\r\n              dataIndex: 'desc',\r\n              key: 'desc',\r\n            },\r\n            {\r\n              title: '价格',\r\n              dataIndex: 'price',\r\n              key: 'price',\r\n              align:'center',\r\n              width:'9%',\r\n              render:(price)=>'￥'+price\r\n            },\r\n            {\r\n                title: '状态',\r\n                // dataIndex: 'status',\r\n                key: 'status',\r\n                align:'center',\r\n                width:'10%',\r\n                render:(item)=>{\r\n                    return (\r\n                        <div>\r\n                            <Button \r\n                            type={item.status === 1 ? 'danger':'primary'}\r\n                            onClick={()=>{this.updateProdStatus(item)}}\r\n                            >\r\n                                    \r\n                                {item.status === 1 ? '下架':'上架'}\r\n                            </Button><br/>\r\n                            <span>{item.status ===1 ? '在售' : '已停售'}</span>\r\n                        </div>\r\n                    )\r\n                }\r\n              },\r\n              {\r\n                title: '操作',\r\n                // dataIndex: 'opera',\r\n                key: 'opera',\r\n                align:'center',\r\n                width:'10%',\r\n                render:(item)=>{\r\n                    return(\r\n                        <div>\r\n                            <Button type='link' onClick={()=>{this.props.history.push(`/admin/prod_about/product/detail/${item._id}`)}}>详情</Button>\r\n                            <Button type='link' onClick={()=>{this.props.history.push(`/admin/prod_about/product/add_update/${item._id}`)}}>修改</Button>\r\n                            <Button type='link' onClick={()=>{this.showModal(item)}}>删除</Button>\r\n                            <Modal destroyOnClose okText=\"确定\" cancelText=\"取消\" title={`删除${this.state.productName}`} visible={this.state.isModalVisible} onOk={this.handleOk} onCancel={this.handleCancel}>\r\n                            <p style={{fontSize:'20px',fontWeight:'500'}}>确定删除<span style={{color:'red'}}>{this.state.productName}?</span></p>\r\n                            \r\n                             </Modal>\r\n                        </div>\r\n                    )\r\n                }\r\n              },\r\n          ];\r\n          \r\n        return (\r\n            <Card \r\n            title={\r\n                <div>\r\n                <Select defaultValue=\"productName\"onChange={(value)=>{this.setState({searchType:value})}}>\r\n                    <Option value=\"productName\">按名称搜索</Option>\r\n                    <Option value=\"productDesc\">按描述搜索</Option>\r\n                </Select>\r\n                <Input style={{width:'20%',margin:'0px 10px'}} \r\n                placeholder=\"请输入搜索关键字\" \r\n                allowClear\r\n                onChange={this.inputChange}\r\n                />\r\n                <Button type=\"primary\" onClick={this.search}> <SearchOutlined />搜索</Button>\r\n                </div>\r\n            }\r\n            extra={<Button type='primary' onClick={()=>{this.props.history.push('/admin/prod_about/product/add_update')}}> <PlusCircleOutlined />添加商品</Button>} \r\n           >\r\n               <Table \r\n               dataSource={dataSource} \r\n               columns={columns}\r\n               bordered\r\n               rowKey='_id'\r\n               loading={this.state.isLoading}\r\n               pagination={{\r\n                   pageSize:PAGE_SIZE,\r\n                   current:this.state.current,\r\n                   total:this.state.total,\r\n                   onChange:this.getProductList\r\n               }}\r\n               />\r\n            </Card>\r\n        )\r\n    }\r\n}\r\nconst mapStateToProps = (state)=>{\r\n    return {\r\n       \r\n    }\r\n  }\r\nexport default connect(\r\n    mapStateToProps,{saveProduct:createSaveProductAction,}\r\n  )(Product)\r\n","import {SAVE_PROD_LIST} from '../action_types'\n\n//创建保存用户信息的action\nexport const createSaveProductAction = (value)=> {\n  return {type:SAVE_PROD_LIST,data:value}\n}\n","import React, { Component } from 'react'\r\nimport { Button,Card,List, message } from 'antd'\r\nimport { connect } from 'react-redux'\r\nimport  { ArrowLeftOutlined} from '@ant-design/icons'\r\nimport './detail.min.css'\r\nimport {reqProdById,reqCategoryList} from '../../api/index'\r\nimport {BASE_URL} from '../../config/index'\r\nconst {Item} = List\r\n@connect(\r\n    state => ({\r\n      productList:state.productList,\r\n      categoryList:state.categoryList\r\n    })\r\n  )\r\nclass Detail extends Component {\r\n        state={\r\n            categoryId:'',\r\n            categoryName:'',\r\n            desc:'',\r\n            detail:'',\r\n            imgs:[],\r\n            name:'',\r\n            price:'',\r\n            isLoading:true\r\n        }\r\n        getProductById = async(id)=>{//箭头函数\r\n            let result = await reqProdById(id)\r\n            const {status,data,msg} = result\r\n            if(status === 0){\r\n                this.categoryId = data.categoryId\r\n                this.setState({...data,isLoading:false})\r\n            }else{\r\n                message.error(msg)\r\n            }\r\n        }\r\n        getCategorylist= async()=>{\r\n            let result  = await reqCategoryList()\r\n            const {status,data} = result\r\n            if(status === 0){\r\n               let result =  data.find((item)=>{//箭头函数\r\n                      return item._id === this.categoryId\r\n                })\r\n                \r\n                if(result) {\r\n                   \r\n                    this.setState({categoryName:result.name,isLoading:false})\r\n                   \r\n                }\r\n                \r\n            }\r\n        }\r\n    componentDidMount(){\r\n        \r\n        const {id} = this.props.match.params\r\n        const reduxCateList = this.props.categoryList\r\n       const reduxProdList = this.props.productList\r\n       if(reduxProdList.length){\r\n           \r\n        let result =  reduxProdList.find((item)=>{\r\n            return item._id === id\r\n        })\r\n        if(result){\r\n            this.categoryId = result.categoryId\r\n         this.setState({...result})\r\n        }\r\n       }else{\r\n            this.getProductById(id)\r\n       }\r\n       if(reduxCateList.length){\r\n        let result = reduxCateList.find((item)=>{\r\n               return item._id === this.categoryId\r\n           })\r\n           this.setState({categoryName:result.name,isLoading:false})\r\n       }else{\r\n           this.getCategorylist()\r\n       }\r\n    }\r\n    \r\n    \r\n    render() {\r\n        return (\r\n            <Card \r\n            title={\r\n            <div className='left-top' >\r\n                <Button type='link' size='small' onClick={()=>{this.props.history.goBack()}}>\r\n                    <ArrowLeftOutlined style={{fontSize:'20px'}} />\r\n                </Button>\r\n                <span>商品详情</span>\r\n                </div>}\r\n             >\r\n                <List loading={this.state.isLoading}>\r\n                    <Item className='item'>\r\n                        <span className='prod-title'>商品名称：</span>\r\n                        <span>{this.state.name}</span>\r\n                    </Item>\r\n                    <Item className='item'>\r\n                        <span className='prod-title'>商品描述：</span>\r\n                        <span>{this.state.desc}</span>\r\n                    </Item>\r\n                    <Item className='item'>\r\n                        <span className='prod-title'>商品价格：</span>\r\n                        <span>{this.state.price}</span>\r\n                    </Item>\r\n                    <Item className='item'>\r\n                        <span className='prod-title'>所属分类：</span>\r\n                        <span>{this.state.categoryName}</span>\r\n                    </Item>\r\n                    <Item className='item'>\r\n                        <span className='prod-title'>商品图片：</span>\r\n                        {\r\n                            this.state.imgs.map((item,index)=>{\r\n                                return <img key={index} src={`${BASE_URL}/upload/`+item} alt=\"商品图片\" style={{width:'200px'}}/>\r\n                              })\r\n                        }\r\n                    </Item>\r\n                    <Item className='item'>\r\n                        <span className='prod-title'>商品详情：</span>\r\n                        <span dangerouslySetInnerHTML={{__html:this.state.detail}}></span>\r\n                    </Item>\r\n\r\n                </List>\r\n\r\n            </Card>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Detail\r\n","import React from 'react'\r\nimport { Upload, Modal, message } from 'antd';\r\nimport { PlusOutlined } from '@ant-design/icons';\r\nimport {BASE_URL} from '../../config/index'\r\nimport {reqDeletePicture} from '../../api/index'\r\n//将图片变成base64编码形式\r\nfunction getBase64(file) {\r\n  return new Promise((resolve, reject) => {\r\n    const reader = new FileReader();\r\n    reader.readAsDataURL(file);\r\n    reader.onload = () => resolve(reader.result);\r\n    reader.onerror = error => reject(error);\r\n  });\r\n}\r\n\r\nexport default class PicturesWall extends React.Component {\r\n  state = {\r\n    previewVisible: false,\r\n    previewImage: '',\r\n    previewTitle: '',\r\n    fileList: [\r\n      \r\n    ],\r\n  };\r\n  //关闭预览窗\r\n  handleCancel = () => this.setState({ previewVisible: false });\r\n  //展示预览窗\r\n  handlePreview = async file => {\r\n    if (!file.url && !file.preview) {\r\n      file.preview = await getBase64(file.originFileObj);\r\n    }\r\n\r\n    this.setState({\r\n      previewImage: file.url || file.preview,\r\n      previewVisible: true,\r\n      previewTitle: file.name || file.url.substring(file.url.lastIndexOf('/') + 1),\r\n    });\r\n  };\r\n\r\n  handleChange = async({ file,fileList }) => {\r\n      if(file.status === 'done'){\r\n        console.log(file.response.data.url);\r\n        fileList[fileList.length-1].url = file.response.data.url\r\n        fileList[fileList.length-1].name = file.response.data.name\r\n        \r\n    }\r\n    if(file.status === 'removed'){\r\n      let result = await reqDeletePicture(file.name)\r\n      const {status,msg} = result\r\n      if(status === 0){\r\n        message.success(\"删除图片成功\")\r\n      }else{\r\n        message.error(msg)\r\n      }\r\n       console.log(\"删除\",file.name);\r\n        \r\n    }\r\n    this.setState({ fileList });\r\n  }\r\n  getImageArr = ()=>{//箭头函数\r\n        let result = []\r\n        this.state.fileList.forEach((item)=>{\r\n          result.push(item.name)\r\n        })\r\n        return result\r\n  }\r\n  setFileList =(imgArr)=>{//箭头函数\r\n        let result = []\r\n        imgArr.forEach((item,index)=>{\r\n          result.push({uid:-index,name:item,url:`${BASE_URL}/upload/${item}`})\r\n        })\r\n        this.setState({fileList:result})\r\n  }\r\n  render() {\r\n    const { previewVisible, previewImage, fileList, previewTitle } = this.state;\r\n    const uploadButton = (\r\n      <div>\r\n        <PlusOutlined />\r\n        <div style={{ marginTop: 8 }}>Upload</div>\r\n      </div>\r\n    );\r\n    return (\r\n      <>\r\n        <Upload\r\n          action={`${BASE_URL}/manage/img/upload`}//接收图片服务器的地址\r\n          method=\"post\"\r\n          name=\"image\"\r\n          listType=\"picture-card\"\r\n          fileList={fileList}\r\n          onPreview={this.handlePreview}\r\n          onChange={this.handleChange}\r\n        >\r\n          {fileList.length >= 4 ? null : uploadButton}\r\n        </Upload>\r\n        <Modal\r\n          visible={previewVisible}\r\n          title={previewTitle}\r\n          footer={null}\r\n          onCancel={this.handleCancel}\r\n        >\r\n          <img alt=\"example\" style={{ width: '100%' }} src={previewImage} />\r\n        </Modal>\r\n      </>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport { EditorState, convertToRaw,ContentState } from 'draft-js';\r\nimport { Editor } from 'react-draft-wysiwyg';\r\nimport draftToHtml from 'draftjs-to-html';\r\nimport htmlToDraft from 'html-to-draftjs';\r\nimport 'react-draft-wysiwyg/dist/react-draft-wysiwyg.css'\r\nexport default class EditorConvertToHTML extends Component {\r\n  state = {\r\n    editorState: EditorState.createEmpty(),\r\n  }\r\n\r\n  onEditorStateChange = (editorState) => {\r\n    this.setState({\r\n      editorState,\r\n    });\r\n  };\r\ngetRichText = ()=>{//箭头函数\r\n  const { editorState } = this.state;\r\n  return draftToHtml(convertToRaw(editorState.getCurrentContent()))\r\n}\r\nsetRichText =(html)=>{//箭头函数\r\n  const contentBlock = htmlToDraft(html);\r\n  if (contentBlock) {\r\n    const contentState = ContentState.createFromBlockArray(contentBlock.contentBlocks);\r\n    const editorState = EditorState.createWithContent(contentState);\r\n    this.setState ({\r\n      editorState,\r\n    });\r\n  }\r\n}\r\n  render() {\r\n    const { editorState } = this.state;\r\n    return (\r\n      <div>\r\n        <Editor\r\n          editorState={editorState}\r\n          // wrapperClassName=\"demo-wrapper\"//整个容器样式\r\n          // editorClassName=\"demo-editor\"//编辑区样式\r\n          editorStyle={{\r\n            border:'1px solid black',\r\n            paddingLeft:'10px',\r\n            lineHeight:'10px',\r\n            minHeight:'200px'\r\n          }}\r\n          onEditorStateChange={this.onEditorStateChange}\r\n        />\r\n        \r\n      </div>\r\n    );\r\n  }\r\n}","import { Button,Card,Form,Select,Input, message} from 'antd'\r\nimport React, { Component } from 'react'\r\nimport  { ArrowLeftOutlined} from '@ant-design/icons'\r\nimport { connect } from 'react-redux'\r\nimport {reqCategoryList,reqAddProduct,reqProdById,reqUpdateProduct} from '../../api/index'\r\nimport PicturesWall from './picture_wall'\r\nimport EditorConvertToHTML from './rich_text_editor'\r\nconst {Option} = Select\r\n@connect(\r\n    state =>({\r\n        categoryList:state.categoryList,\r\n        productList:state.productList\r\n    }),\r\n    {}\r\n)\r\nclass Add_update extends Component {\r\n  constructor(props){\r\n    super(props)\r\n    this.pictureWall = React.createRef()\r\n    this.richTextEditor = React.createRef()\r\n  }\r\n  formRef = React.createRef();\r\n    state={\r\n        categoryList:[],\r\n        operaType:'add',\r\n        categoryId:'',\r\n        desc:'',\r\n        detail:'',\r\n        imgs:[],\r\n        name:'',\r\n        price:'',\r\n        _id:'',\r\n        isLoading:true\r\n    }\r\n    componentDidMount(){\r\n        const {categoryList,productList} = this.props\r\n        const {id} = this.props.match.params\r\n        if(categoryList.length){\r\n            this.setState({categoryList})\r\n        }else{\r\n            this.getCategoryList()\r\n        }\r\n        if(id){\r\n          this.setState({operaType:'update'})\r\n          if(productList.length){\r\n           let result = productList.find((item)=>{\r\n              return item._id === id\r\n            })\r\n            if(result) {\r\n              this.setState({...result})\r\n              this.pictureWall.current.setFileList(result.imgs)\r\n              this.richTextEditor.current.setRichText(result.detail)\r\n            }\r\n            setTimeout(this.setDetialMessage,0);\r\n          }else{\r\n           setTimeout(this.setDetialMessage,1000);\r\n            this.getProductList(id)\r\n          }\r\n\r\n        }\r\n    }\r\n \r\n    getProductList = async(id)=>{//箭头函数\r\n          let result = await reqProdById(id)\r\n          const {status,data} = result\r\n          if(status === 0){\r\n            this.setState({...data})\r\n            this.pictureWall.current.setFileList(data.imgs)\r\n              this.richTextEditor.current.setRichText(data.detail)\r\n          }\r\n    }\r\n    getCategoryList = async()=>{//箭头函数\r\n          let result = await reqCategoryList()\r\n          const {status,data} = result\r\n          if(status===0){\r\n              this.setState({categoryList:data})\r\n          }else{\r\n              message.error('请求错误')\r\n          }\r\n    }\r\n    setDetialMessage = ()=>{//箭头函数\r\n      this.formRef.current.setFieldsValue({\r\n        name:this.state.name || '',\r\n        desc:this.state.desc || '',\r\n        price:this.state.price || '',\r\n        categoryId:this.state.categoryId || '',\r\n      })\r\n    }\r\n     onFinish = async(values) => {\r\n       const {operaType,_id} = this.state\r\n      let imgs = this.pictureWall.current.getImageArr()\r\n      let detail = this.richTextEditor.current.getRichText();\r\n      let result;\r\n      if(operaType === 'add'){\r\n        result = await reqAddProduct({...values,imgs,detail})\r\n      }else{\r\n        result = await reqUpdateProduct({...values,imgs,detail,_id})\r\n      }\r\n      const {status} = result\r\n      if(status === 0){\r\n        message.success('操作成功')\r\n        this.props.history.replace('/admin/prod_about/product')\r\n      }else{\r\n        message.error('操作失败')\r\n      }\r\n      };\r\n      onFinishFailed = (errorInfo) => {\r\n        console.log('Failed:', errorInfo);\r\n        message.error(errorInfo,3)\r\n      };\r\n    render() {\r\n      const {operaType} = this.state\r\n        return (\r\n            <Card \r\n            title={\r\n            <div className='left-top' >\r\n                <Button type='link' size='small' onClick={()=>{this.props.history.goBack()}}>\r\n                    <ArrowLeftOutlined style={{fontSize:'20px'}} />\r\n                </Button>\r\n                <span>{operaType === 'update' ? '商品修改' : '商品添加'}</span>\r\n                </div>}\r\n             >\r\n                <Form \r\n                ref={this.formRef}\r\n                 name=\"aaaa\"\r\n              onFinish={this.onFinish}\r\n              onFinishFailed={this.onFinishFailed}\r\n              labelCol={{md: 2,}}\r\n              wrapperCol={{md: 7,}}\r\n          >\r\n            <Form.Item \r\n            label=\"商品名称\"\r\n            name='name'\r\n            rules={[{required:true,message:'商品名称不能为空'}]}\r\n            >\r\n              <Input\r\n              placeholder='商品名称'\r\n              />\r\n            </Form.Item>\r\n\r\n            <Form.Item \r\n            label=\"商品描述\"\r\n            name='desc'\r\n            rules={[{required:true,message:'商品描述不能为空'}]}\r\n            >\r\n               <Input\r\n              placeholder='商品描述'\r\n              />\r\n            </Form.Item>\r\n\r\n            <Form.Item \r\n            label=\"商品价格\"\r\n            name='price'\r\n            rules={[{required:true,message:'商品价格不能为空'}]}\r\n            >\r\n             <Input placeholder=\"商品价格\"\r\n                  addonAfter=\"元\"\r\n                  prefix=\"￥\"\r\n                  type=\"number\"/>\r\n            </Form.Item>\r\n\r\n            <Form.Item \r\n            label=\"商品分类\"\r\n            name='categoryId'\r\n            rules={[{required:true,message:'商品分类不能为空'}]}\r\n            >\r\n              <Select>\r\n                  <Option value=\"\">请选择分类</Option>\r\n                  {\r\n                    this.state.categoryList.map((item)=>{\r\n                    return <Option key={item._id} value={item._id}>{item.name}</Option>\r\n                    })\r\n                  }\r\n                </Select>\r\n            </Form.Item>\r\n\r\n            <Form.Item  label=\"商品图片\" wrapperCol={{md:12}}>\r\n              <PicturesWall ref={this.pictureWall}/>\r\n            </Form.Item>\r\n\r\n            <Form.Item label=\"商品详情\" wrapperCol={{md:16}}>\r\n             <EditorConvertToHTML ref = {this.richTextEditor}/>\r\n            </Form.Item>\r\n            \r\n            <Button type=\"primary\" htmlType=\"submit\">提交</Button>\r\n          </Form>\r\n\r\n            </Card>\r\n            \r\n        )\r\n    }\r\n}\r\nexport default Add_update","import React,{Component} from 'react'\r\nimport {Card,Button,Table, message,Modal,Form,Input,Select} from 'antd';\r\nimport dayjs from 'dayjs'\r\nimport  { PlusOutlined } from '@ant-design/icons'\r\nimport {reqUserList,reqAddUser,reqUpdateUser,reqDeleteUser} from '../../api/index'\r\nimport {PAGE_SIZE} from '../../config'\r\nconst {Item} = Form\r\nconst {Option} = Select\r\n\r\nclass User extends Component{\r\n\r\n  state = {\r\n    isShowAdd:false, //是否展示新增弹窗\r\n    userList:[],//用户列表\r\n    roleList:[],//角色列表\r\n    operType:'',\r\n    isModalVisible:false,\r\n    user_email:'',\r\n    user_phone:'',\r\n    role_id:'',\r\n    user_name:'',\r\n    _id:'',\r\n  }\r\n  formRef = React.createRef()\r\n  getUserList = async()=>{\r\n    let result = await reqUserList()\r\n    const {status,data,msg} = result\r\n    if(status === 0) this.setState({\r\n      userList:data.users.reverse(),\r\n      roleList:data.roles\r\n    })\r\n    else message.err(msg,3)\r\n  }\r\n\r\n  componentDidMount(){\r\n    this.getUserList()\r\n  }\r\n\r\n  //新增用户弹窗----确定按钮回调\r\n  handleOk = ()=>{\r\n    const {operType} = this.state\r\n    this.formRef.current.validateFields()\r\n    .then( values => {\r\n      values.password = this.state.password\r\n        console.log(values,\"表单values\");\r\n        if(operType === 'add') this.toAdd(values)\r\n         if(operType === 'update'){\r\n            values._id = this.state._id\r\n             console.log(values,\"AAAAAAAAA\");\r\n             this.toUpdate(values);\r\n         } \r\n    })\r\n    .catch(info => {\r\n        console.log('Validate Failed:', info);\r\n    });\r\n  }\r\n  clickUpdate = (item)=>{\r\n    console.log(item);\r\n    const{_id,email,phone,role_id,username,password} = item\r\n    this.setState({\r\n      user_email:email,\r\n      _id:_id,\r\n      password:password,\r\n      user_name:username,\r\n      role_id:role_id,\r\n      user_phone:phone,\r\n      isShowAdd:true,\r\n      operType:'update'\r\n    })\r\n    if(this.formRef.current === null){\r\n      console.log(\"空的\");\r\n  }else{\r\n      this.formRef.current.setFieldsValue({email,phone,role_id,username})//调用setFieldsValue方法动态修改分类的值\r\n  }\r\n}\r\n  //更新操作\r\n  toUpdate = async (user)=>{//箭头函数\r\n        let result = await reqUpdateUser(user)\r\n        const {status,data,msg} = result\r\n        let data1 = [result.data]\r\n        console.log(result);\r\n        if(status === 0){\r\n          message.success('更新用户成功')\r\n          let userList = [...this.state.userList]\r\n          let add = userList.filter(item => !data1.some(ele=>ele._id===item._id));\r\n          userList = [data,...add]\r\n          this.setState({userList,isShowAdd:false})\r\n        }else{\r\n          message.error(msg,1)\r\n        }\r\n  }\r\n  clickAdd = ()=>{//箭头函数\r\n    if(this.formRef.current !== null){\r\n      this.formRef.current.setFieldsValue({email:'',phone:'',role_id:'',username:'',password:''})\r\n    }\r\n    this.setState({isShowAdd:true,operType:'add'});\r\n  }\r\n  //新增操作\r\n  toAdd = async(values)=>{//箭头函数\r\n    let result = await reqAddUser(values)\r\n    console.log(values);\r\n    const {status,data,msg} = result\r\n    if(status===0){\r\n      message.success('添加用户成功')\r\n      let userList = [...this.state.userList]\r\n      userList.unshift(data)\r\n      this.setState({userList,isShowAdd:false})\r\n    }\r\n    else message.error(msg,1)\r\n  }\r\n  clickDelete = (item)=>{//箭头函数\r\n    const {username,_id} = item\r\n      this.setState({isModalVisible:true,user_name:username,_id:_id})\r\n  }\r\n  //删除用户id\r\n  toDelete = async (_id)=>{\r\n    let result = await reqDeleteUser(_id)\r\n    const {status,msg} = result\r\n    if(status===0){\r\n      message.success('删除用户成功')\r\n      this.setState({isShowAdd:false})\r\n      this.getUserList()\r\n    }\r\n    else message.error(msg,1)\r\n  }\r\n  //新增用户弹窗----取消按钮回调\r\n  handleCancel = ()=>{\r\n    this.setState({isShowAdd:false})\r\n  }\r\n  handleOkModal = ()=>{\r\n    this.setState({isModalVisible:false})\r\n    console.log(this.state._id);\r\n    this.toDelete(this.state._id)\r\n  }\r\n  handleCancelModal = ()=>{\r\n    this.setState({isModalVisible:false})\r\n  }\r\n  render(){\r\n    const dataSource = this.state.userList\r\n    console.log(dataSource,\"dataSource\");\r\n    const columns = [\r\n      {\r\n        title: '用户名',\r\n        dataIndex: 'username',\r\n        key: 'username',\r\n      },\r\n      {\r\n        title: '邮箱',\r\n        dataIndex: 'email',\r\n        key: 'email',\r\n      },\r\n      {\r\n        title: '电话',\r\n        dataIndex: 'phone',\r\n        key: 'phone',\r\n      },\r\n      {\r\n        title: '注册时间',\r\n        dataIndex: 'create_time',\r\n        key: 'create_time',\r\n        render: time => dayjs(time).format('YYYY年 MM月DD日 HH:mm:ss')\r\n      },\r\n      {\r\n        title: '所属角色',\r\n        dataIndex: 'role_id',\r\n        key: 'role_id',\r\n      },\r\n      {\r\n        title: '操作',\r\n        key: 'option',\r\n        render: (item) => (\r\n          <div>\r\n            <Button \r\n              type='link' \r\n              onClick={()=>{this.clickUpdate(item)}}\r\n             >修改\r\n            </Button>\r\n            <Button \r\n              type='link' \r\n              onClick={()=>{this.clickDelete(item)}}\r\n             >删除\r\n            </Button>\r\n            <Modal destroyOnClose okText=\"确定\" cancelText=\"取消\" title={`删除${this.state.user_name}`} visible={this.state.isModalVisible} onOk={this.handleOkModal} onCancel={this.handleCancelModal}>\r\n                            <p style={{fontSize:'20px',fontWeight:'500'}}>确定删除<span style={{color:'red'}}>{this.state.user_name}?</span></p>\r\n                            \r\n                </Modal>\r\n          </div>\r\n          )\r\n      }\r\n    ];\r\n    \r\n    return (\r\n      <div>\r\n        <Card\r\n          title={\r\n            <Button type='primary' onClick={this.clickAdd}>\r\n              < PlusOutlined/>创建用户\r\n            </Button>\r\n          }\r\n        >\r\n          <Table \r\n            dataSource={dataSource} \r\n            columns={columns}\r\n            bordered\r\n            pagination={{defaultPageSize:PAGE_SIZE}}\r\n            rowKey=\"_id\"\r\n          />\r\n        </Card>\r\n        {/* 新增角色提示框 */}\r\n        <Modal\r\n          title={this.state.operType === 'add' ? '新增用户' :'更新用户'} \r\n          visible={this.state.isShowAdd}\r\n          onOk={this.handleOk}\r\n          onCancel={this.handleCancel}\r\n          okText=\"确认\"\r\n          cancelText=\"取消\"\r\n        >\r\n          <Form \r\n          labelCol={{span:4}} \r\n          wrapperCol={{span:16}}\r\n          ref={this.formRef}\r\n          >\r\n            <Item \r\n            label=\"用户名\"\r\n            name=\"username\"\r\n            initialValue={this.state.user_name}\r\n            rules={[{required: true, message: '用户名必须输入' },]}\r\n            >\r\n              <Input placeholder=\"请输入用户名\"/>\r\n            </Item>\r\n            <Item label=\"密码\"\r\n            name=\"password\"\r\n            rules={[{required:this.state.operType === 'add' ? true :false, message: '密码必须输入' },]}\r\n            >\r\n              <Input disabled={this.state.operType === 'add' ? false :true} placeholder={this.state.operType === 'add' ? \"请输入密码\" :''}/>\r\n            </Item>\r\n            <Item label=\"手机号\"\r\n             name=\"phone\"\r\n             initialValue={this.state.user_phone}\r\n             rules={[{required: true, message: '手机号必须输入' },]}\r\n            >\r\n              <Input placeholder=\"请输入手机号\"/>\r\n            </Item>\r\n            <Item label=\"邮箱\"\r\n            name=\"email\"\r\n            initialValue={this.state.user_email}\r\n            rules={[{required: true, message: '邮箱必须输入' },]}\r\n            >\r\n              <Input placeholder=\"请输入邮箱\"/>\r\n            </Item>\r\n            <Item label=\"角色\"\r\n             name=\"role_id\"\r\n             initialValue={this.state.role_id}\r\n             rules={[{required: true, message: '必须选择一个角色' },]}\r\n             >\r\n                <Select>\r\n                  <Option value=''>请选择一个角色</Option>\r\n                  {\r\n                    this.state.roleList.map((item)=>{\r\n                      return <Option key={item._id} value={item.name}>{item.name}</Option>\r\n                    })\r\n                  }\r\n                </Select>\r\n            </Item>\r\n          </Form>\r\n        </Modal>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default User","import React,{Component} from 'react'\r\nimport {Card,Button,Table, message,Modal,Form,Input,Tree } from 'antd';\r\nimport dayjs from 'dayjs'\r\nimport  { PlusOutlined } from '@ant-design/icons'\r\nimport {reqRoleList,reqAddRole,reqAuthRole} from '../../api/index'\r\nimport menuList from '../../config/menu_config'\r\nimport {connect} from 'react-redux'\r\nconst {Item} = Form\r\n\r\n@connect(\r\n  state => ({username:state.userInfo.user}),\r\n  {}\r\n)\r\nclass Role extends Component{\r\n\r\n  state = {\r\n    isShowAdd:false,\r\n    isShowAuth:false,\r\n    roleList:[],\r\n    menuList,\r\n    checkedKeys: [],//选中的菜单\r\n    _id:''//当前操作的角色id\r\n  }\r\n  formRef = React.createRef()\r\n  getRoleList = async()=>{\r\n    let result = await reqRoleList()\r\n    const {status,data} = result\r\n    if(status===0) this.setState({roleList:data})\r\n  }\r\n\r\n  componentDidMount(){\r\n    this.getRoleList()\r\n  }\r\n\r\n  //新增角色--确认按钮\r\n  handleOk = ()=>{\r\n    this.formRef.current.validateFields().then(\r\n      async values =>{\r\n                \r\n                let result = await reqAddRole(values)\r\n                const {status,msg} = result\r\n                if(status===0) {\r\n                  message.success('新增角色成功')\r\n                  this.getRoleList()\r\n                  this.setState({isShowAdd:false})\r\n                }\r\n                else message.error(msg)\r\n        }\r\n    )\r\n  }\r\n\r\n  //新增角色--取消按钮\r\n  handleCancel = ()=>{\r\n    this.setState({isShowAdd:false})\r\n  }\r\n\r\n  //授权弹窗--确认按钮\r\n  handleAuthOk = async()=>{\r\n    const {_id,checkedKeys} = this.state\r\n    const {username} = this.props\r\n    let result = await reqAuthRole({_id,menus:checkedKeys,auth_name:username})\r\n    const {status,msg} = result\r\n    if(status===0) {\r\n      message.success('授权成功',1)\r\n      this.setState({isShowAuth:false})\r\n      this.getRoleList()\r\n    }\r\n    else message.error(msg,1)\r\n  }\r\n\r\n  //授权弹窗--取消按钮\r\n  handleAuthCancel = ()=>{\r\n    this.setState({isShowAuth:false})\r\n  }\r\n\r\n  onCheck = checkedKeys => this.setState({ checkedKeys });\r\n\r\n  //用于展示授权弹窗\r\n  showAuth = (id)=>{\r\n    const {roleList} = this.state\r\n    let result = roleList.find((item)=>{\r\n      return item._id === id\r\n    })\r\n    if(result) {\r\n        this.setState({checkedKeys:result.menus})\r\n      }\r\n    this.setState({isShowAuth:true,_id:id})\r\n  }\r\n\r\n  //用于展示新增弹窗\r\n  showAdd = ()=>{\r\n    if(this.formRef.current !== null){\r\n        this.formRef.current.resetFields()\r\n    }\r\n    this.setState({isShowAdd:true});\r\n  }\r\n  renderTreeNodes = (data) =>{\r\n    data.map(item => {\r\n    if (item.children) {\r\n     return (\r\n            this.renderTreeNodes(item.children)\r\n        );\r\n    }\r\n    return item.key\r\n    }\r\n    );}\r\n  render(){\r\n    const dataSource = this.state.roleList\r\n    const columns = [\r\n      {\r\n        title: '角色名称',\r\n        dataIndex: 'name',\r\n        key: 'name',\r\n      },\r\n      {\r\n        title: '创建时间',\r\n        dataIndex: 'create_time',\r\n        key: 'create_time',\r\n        render:(time)=> dayjs(time).format('YYYY年 MM月DD日 HH:mm:ss')\r\n      },\r\n      {\r\n        title: '授权时间',\r\n        dataIndex: 'auth_time',\r\n        key: 'auth_time',\r\n        render:(time)=> time ? dayjs(time).format('YYYY年 MM月DD日 HH:mm:ss') : ''\r\n      },\r\n      {\r\n        title: '授权人',\r\n        dataIndex: 'auth_name',\r\n        key: 'auth_name',\r\n      },\r\n      {\r\n        title: '操作',\r\n        key: 'option',\r\n        render: (item) => <Button type='link' onClick={()=>{this.showAuth(item._id)}}>设置权限</Button>\r\n      }\r\n    ];\r\n   \r\n    //treeData是属性菜单的源数据\r\n   const treeData = this.state.menuList\r\n\r\n    return (\r\n      <div>\r\n        <Card\r\n        \r\n          title={<Button type='primary' onClick={()=>{this.showAdd()}}>\r\n                  <PlusOutlined />\r\n                  新增角色\r\n                 </Button>}\r\n          style={{ width: '100% '}}\r\n        >\r\n          <Table \r\n            dataSource={dataSource} \r\n            columns={columns}\r\n            bordered\r\n            pagination={{defaultPageSize:5}}\r\n            rowKey=\"_id\"\r\n          />\r\n        </Card>\r\n        {/* 新增角色提示框 */}\r\n        <Modal\r\n          title=\"新增角色\"\r\n          visible={this.state.isShowAdd}\r\n          onOk={this.handleOk}\r\n          onCancel={this.handleCancel}\r\n          okText=\"确认\"\r\n          cancelText=\"取消\"\r\n        >\r\n          <Form \r\n          ref={this.formRef}\r\n          onSubmit={this.handleOk}>\r\n            <Item\r\n            name='roleName'\r\n            rules={[{required: true, message: '角色名必须输入' },]}>\r\n            <Input placeholder=\"请输入角色名\" />\r\n            </Item>\r\n          </Form>\r\n        </Modal>\r\n        {/* 设置权限提示框 */}\r\n        <Modal\r\n          title=\"设置权限\"\r\n          visible={this.state.isShowAuth}\r\n          onOk={this.handleAuthOk}\r\n          onCancel={this.handleAuthCancel}\r\n          okText=\"确认\"\r\n          cancelText=\"取消\"\r\n        >\r\n          <Tree\r\n            checkable //允许选中\r\n            onCheck={this.onCheck}\r\n            checkedKeys={this.state.checkedKeys}\r\n            defaultExpandAll={true}\r\n            treeData={treeData}\r\n          >\r\n            {/* <TreeNode title='平台功能' key='top'>\r\n              {this.renderTreeNodes(treeData)}\r\n            </TreeNode> */}\r\n          </Tree>\r\n        </Modal>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Role","import React, { Component } from 'react'\r\nimport ReactECharts from 'echarts-for-react';\r\nexport default class Bar extends Component {\r\n    render() {\r\n      const option = {\r\n        title: {\r\n          text: 'ECharts 入门示例'\r\n        },\r\n        tooltip: {},\r\n        legend: {\r\n          data:['销量']\r\n        },\r\n        xAxis: {\r\n          data: ['衬衫', '羊毛衫', '雪纺衫', '裤子', '高跟鞋', '袜子']\r\n        },\r\n        yAxis: {},\r\n        series: [{\r\n          name: '销量',\r\n          type: 'bar',\r\n          data: [5, 20, 36, 10, 10, 20]\r\n        }]\r\n      };\r\n        return (\r\n          <ReactECharts\r\n          option={option}\r\n          style={{ height: 400 }}\r\n          opts={{ renderer: 'svg' }}\r\n        />\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\nimport ReactECharts from 'echarts-for-react';\r\n\r\nexport default class Line extends Component {\r\n    render() {\r\n        const option = {\r\n            title: {\r\n              text: '堆叠区域图'\r\n            },\r\n            tooltip : {\r\n              trigger: 'axis'\r\n            },\r\n            legend: {\r\n              data:['邮件营销','联盟广告','视频广告']\r\n            },\r\n            toolbox: {\r\n              feature: {\r\n                saveAsImage: {}\r\n              }\r\n            },\r\n            grid: {\r\n              left: '3%',\r\n              right: '4%',\r\n              bottom: '3%',\r\n              containLabel: true\r\n            },\r\n            xAxis : [\r\n              {\r\n                type : 'category',\r\n                boundaryGap : false,\r\n                data : ['周一','周二','周三','周四','周五','周六','周日']\r\n              }\r\n            ],\r\n            yAxis : [\r\n              {\r\n                type : 'value'\r\n              }\r\n            ],\r\n            series : [\r\n              {\r\n                name:'邮件营销',\r\n                type:'line',\r\n                stack: '总量',\r\n                areaStyle: {normal: {}},\r\n                data:[120, 132, 101, 134, 90, 230, 210]\r\n              },\r\n              {\r\n                name:'联盟广告',\r\n                type:'line',\r\n                stack: '总量',\r\n                areaStyle: {normal: {}},\r\n                data:[220, 182, 191, 234, 290, 330, 310]\r\n              },\r\n              {\r\n                name:'视频广告',\r\n                type:'line',\r\n                stack: '总量',\r\n                areaStyle: {normal: {}},\r\n                data:[150, 232, 201, 154, 190, 330, 410]\r\n              }\r\n            ]\r\n          };\r\n        return (\r\n            <ReactECharts\r\n                option={option}\r\n                style={{ height: 400 }}\r\n            />\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\nimport ReactECharts from 'echarts-for-react';\r\n\r\nexport default class Pie extends Component {\r\n    state = {\r\n        count:0,\r\n    }\r\n    \r\n    render() {\r\n        const option = {\r\n            backgroundColor: '#fef4a9',\r\n            title : {\r\n              text: '某站点用户访问来源',\r\n              subtext: '纯属虚构',\r\n              x:'center'\r\n            },\r\n            tooltip : {\r\n              trigger: 'item',\r\n              formatter: \"{a} <br/>{b} : {c} ({d}%)\"\r\n            },\r\n            legend: {\r\n              orient: 'vertical',\r\n              left: 'left',\r\n              data: ['直接访问','邮件营销','联盟广告','视频广告','搜索引擎']\r\n            },\r\n            series : [\r\n              {\r\n              name: '访问来源',\r\n              type: 'pie',\r\n              radius : '55%',\r\n              center: ['50%', '60%'],\r\n              data:[\r\n                {value:335, name:'直接访问'},\r\n                {value:310, name:'邮件营销'},\r\n                {value:234, name:'联盟广告'},\r\n                {value:135, name:'视频广告'},\r\n                {value:1548, name:'搜索引擎'}\r\n              ],\r\n              itemStyle: {\r\n                emphasis: {\r\n                shadowBlur: 10,\r\n                shadowOffsetX: 0,\r\n                shadowColor: 'rgba(0, 0, 0, 0.5)'\r\n                }\r\n              }\r\n              }\r\n            ]\r\n          };\r\n        const option1 = {\r\n            backgroundColor: '#f6d04d',\r\n            title: {\r\n              text: '饼图二',\r\n              left: 'center',\r\n              top: 20,\r\n              textStyle: {\r\n                color: '#ccc'\r\n              }\r\n            },\r\n            tooltip: {\r\n              trigger: 'item'\r\n            },\r\n            visualMap: {\r\n              show: false,\r\n              min: 80,\r\n              max: 600,\r\n              inRange: {\r\n                colorLightness: [0, 1]\r\n              }\r\n            },\r\n            series: [\r\n              {\r\n                name: 'Access From',\r\n                type: 'pie',\r\n                radius: '55%',\r\n                center: ['50%', '50%'],\r\n                data: [\r\n                  { value: 335, name: 'Direct' },\r\n                  { value: 310, name: 'Email' },\r\n                  { value: 274, name: 'Union Ads' },\r\n                  { value: 235, name: 'Video Ads' },\r\n                  { value: 400, name: 'Search Engine' }\r\n                ].sort(function (a, b) {\r\n                  return a.value - b.value;\r\n                }),\r\n                roseType: 'radius',\r\n                label: {\r\n                  color: 'rgba(0, 0, 0)'\r\n                },\r\n                labelLine: {\r\n                  lineStyle: {\r\n                    color: 'rgba(0, 0, 0)'\r\n                  },\r\n                  smooth: 0.2,\r\n                  length: 10,\r\n                  length2: 20\r\n                },\r\n                itemStyle: {\r\n                  color: '#c23531',\r\n                  shadowBlur: 200,\r\n                  shadowColor: 'rgba(0, 0, 0, 0.5)'\r\n                },\r\n                animationType: 'scale',\r\n                animationEasing: 'elasticOut',\r\n                animationDelay: function (idx) {\r\n                  return Math.random() * 200;\r\n                }\r\n              }\r\n            ]\r\n          };\r\n          \r\n        return (\r\n            <div>\r\n            <ReactECharts\r\n              option={option}\r\n              style={{ height: 400 }}\r\n              onChartReady={this.onChartReady} \r\n            />   \r\n                <ReactECharts\r\n              option={option1}\r\n              style={{ height: 400 }}\r\n              onChartReady={this.onChartReady} \r\n            />   \r\n            </div>\r\n            \r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\nimport {connect} from 'react-redux'\r\nimport { Redirect,Route,Switch} from 'react-router';\r\nimport {Layout } from 'antd';\r\nimport Header  from './header/header';\r\nimport {createDeleteUserInfoAction} from '../../redux/action_creators/login_action'\r\nimport {reqCategoryList} from '../../api/index'\r\nimport './css/admin.min.css'\r\nimport LeftNav from './left_nav/left_nav';\r\nimport Home from '../../components/home/home'\r\nimport Category from '../category/category'\r\nimport Product from '../product/product'\r\nimport Detail from '../product/detail'\r\nimport AddUpdate from '../product/add_update'\r\nimport User from '../user/user'\r\nimport Role from '../role/role'\r\nimport Bar from '../bar/bar'\r\nimport Line from '../line/line'\r\nimport Pie from '../pie/pie'\r\nconst { Footer, Sider, Content } = Layout;\r\nclass Admin extends Component {\r\n    //在runder里，若想实现跳转，最好用<Redirect>\r\n    logout=()=>{//箭头函数\r\n          this.props.deleteUserInfo();\r\n          return <Redirect  to=\"/login\"/>\r\n    }\r\n   demo = async()=>{\r\n    let result = await reqCategoryList()\r\n    console.log(result);\r\n   }\r\n   \r\n    render() {\r\n        const {isLogin} = this.props.userInfo;\r\n        if(!isLogin){//判断用户是否登陆，未登录返回登录页面\r\n            return <Redirect  to=\"/login\"/>\r\n        }else{\r\n            return (\r\n                    <Layout className=\"admin\">\r\n                    <Sider className=\"sider\"><LeftNav /></Sider>\r\n                    <Layout>\r\n                        <Header className=\"header\">Header</Header>\r\n                        <Content className=\"content\">\r\n                        <Switch>\r\n                <Route path=\"/admin/home\" component={Home}/>\r\n                <Route path=\"/admin/prod_about/category\" component={Category}/>\r\n                <Route path=\"/admin/prod_about/product\" component={Product} exact/>\r\n                <Route path=\"/admin/prod_about/product/detail/:id\" component={Detail}/>\r\n                <Route path=\"/admin/prod_about/product/add_update\" component={AddUpdate} exact/>\r\n                <Route path=\"/admin/prod_about/product/add_update/:id\" component={AddUpdate}/>\r\n                <Route path=\"/admin/user\" component={User}/>\r\n                <Route path=\"/admin/role\" component={Role}/>\r\n                <Route path=\"/admin/charts/bar\" component={Bar}/>\r\n                <Route path=\"/admin/charts/line\" component={Line}/>\r\n                <Route path=\"/admin/charts/pie\" component={Pie}/>\r\n                <Redirect to=\"/admin/home\"/>\r\n              </Switch>\r\n\r\n                        </Content>\r\n                        <Footer className=\"footer\">推荐使用谷歌浏览器，获取最佳用户体验\r\n                        </Footer>\r\n                    </Layout>\r\n                    </Layout>\r\n            \r\n                \r\n            )\r\n        }\r\n        \r\n    }\r\n}\r\nconst mapStateToProps = (state)=>({\r\n    \r\n        userInfo:state.userInfo\r\n    \r\n})\r\n// const mapDispatchToProps = () => {\r\n//     return {\r\n//         deleteUserInfo:createDeleteUserInfoAction,\r\n//     }\r\n// }\r\n// export default connect(\r\n//     mapStateToProps,mapDispatchToProps\r\n//   )(Admin)\r\nexport default connect(\r\n    // state => ({userInfo:state.userInfo}),\r\n    mapStateToProps,\r\n    {deleteUserInfo:createDeleteUserInfoAction}\r\n  )(Admin)\r\n","import React, { Component } from 'react'\nimport { Route,Switch } from 'react-router'\nimport Login from './containers/login/login'\nimport Admin from './containers/admin/admin'\nexport default class App extends Component {\n  render() {\n    return (\n      <div className=\"app\">\n        <Switch>\n          <Route path=\"/login\" component={Login}/>\n          <Route path=\"/admin\" component={Admin}/>\n          <Route path=\"/\" component={Admin}/>\n        </Switch>\n      </div>\n    )\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { BrowserRouter } from 'react-router-dom';\nimport App from './App.js';\nimport {Provider} from 'react-redux'\nimport store from './redux/store'\n\nReactDOM.render(\n  <Provider store={store}>\n  <BrowserRouter>\n    <App/>\n  </BrowserRouter>\n</Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}